== Publisher

Publisher is the primary content design app for GovUK. It provides the user interface for
entering all the key editorial formats and an API so other apps (primarily frontend) can
access that data for display. It is intended to work in partnership with Panopticon which
manages metadata, slugs, titles, etc.

== Running in development ==

If you're just interested in running the Publisher locally, with a minimum of interaction
with other apps, here's how.

* These instructions are out of date. Updates coming soon *

# Create a user

guides$ script/console
>> User.create name: "Your name", email: "youremail@govuk.com", uid: Time.now.to_i,
	:version => 1

# Run panopticon using rails s or similar
panopticon$ rails s -p 3001

# Run the guides app setting env variable to point at your panopticon instance
guides$ PANOPTICON_URI="http://localhost:3001" bundle exec rails server

== Local Transactions

There is no UI or automated process for importing the source data for local transactions.

The source data can be found at http://local.direct.gov.uk/Data/local_authority_service_details.CSV

They can be imported using a rake task:

  bundle exec rake local_transactions:import FILE=/path/to/local_authority_service_details.CSV

== to make a new set of feeds ==

* grab the .xls from http://www.communities.gov.uk/documents/507390/localdirectgov/xls/1523569.xls
  and extract the second sheet to a CSV, named 'service_list.csv'
* grab the CSV (which currently claims to be a .xls) from http://www.communities.gov.uk/documents/507390/localdirectgov/xls/1963339
  and save it as council_name_to_snac.csv
* grab the CSV from http://local.direct.gov.uk/Data/local_authority_service_details.csv

run script/combine_lgd_data as follows:

./script/combine_lgd_data local_authority_service_details.csv service_list.csv council_name_to_snac.csv

This will create a file called 'local_transactions.csv'

